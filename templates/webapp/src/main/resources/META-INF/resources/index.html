<!DOCTYPE html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  <link rel="shortcut icon" href="img/favicon.ico">
  <script src="bootstrap.bundle.min.js"></script>
  <!-- Load AngularJS -->
  <script src="js/angular.min.js"></script>
  <script src="js/fruitmanagement.module.js"></script>
  <title>Java Quarkus WebApp</title>
</head>
<body ng-app="FruitManagement" ng-controller="FruitManagementController">

<header>
  <nav class="navbar navbar-expand-sm bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">HEADER</a>
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/">Webapp</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#">Users</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/users/list">List</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/users">REST</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="/login.html">Login</a></li>
      </ul>
    </div>
  </nav>
</header>

<div class="container">

<div class="card">
  <h1>CRUD Mission - Quarkus</h1>
  <p>This application demonstrates how a Quarkus application implements a CRUD endpoint to manage fruits.
This management interface invokes the CRUD service endpoint, which interacts with a database using JPA and several other well known libraries.
  </p>
  <div>Behind the scenes, we have:
    <ul>
      <li>Hibernate ORM taking care of all CRUD operations</li>
      <li>RESTEasy powering the REST API</li>
      <li>ArC, a CDI based dependency injection framework</li>
      <li>the Narayana Transaction Manager coordinating all transactions</li>
      <li>Agroal, the high performance Datasource implementation</li>
      <li>Infinispan used as Hibernate 2nd level caching: enabled on both entities and queries</li>
      <li>The Undertow webserver</li>
      <li>Some magic bytecode generation plugged in the compiler...</li>
    </ul>
  </div>
</div>

<div class="card m-3 p-3">
  <h3>Add/Edit a fruit</h3>
  <form ng-submit="update()">
    <div class="m-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" id="name" name="name" placeholder="Name" class="form-control" ng-model="form.name" />
    </div>
    <div class="m-3">
      <label for="category" class="form-label">Category</label>
      <input type="text" id="category" name="category" placeholder="Category" class="form-control" ng-model="form.category" />
    </div>
    <div class="m-3">
      <label for="notes" class="form-label">Notes</label>
      <input type="text" id="notes" name="notes" placeholder="Notes" class="form-control" ng-model="form.notes" />
    </div>
    <div class="m-3">
      <input type="submit" value="Save" /><input type="reset" />
    </div>
  </form>
</div>
<div class="container">
  <table class="table">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Category</th>
      <th>Notes</th>
      <th></th>
    </tr>
    
    <tr ng-repeat="fruit in fruits">
      <td>{{ fruit.id }}</td>
      <td>{{ fruit.name }}</td>
      <td>{{ fruit.category }}</td>
      <td>{{ fruit.notes }}</td>
      <td>
        <a ng-click="edit( fruit )" class="btn">Edit</a>
        <a ng-click="remove( fruit )" class="btn">Remove</a>
      </td>
    </tr>
  </table>
</div>

</div>

</body>
</html>
